<div id="header-container" class="container">
    <div class="row justify-content-center align-items-center" style="height: 100%;">
        <div class="col-12">
            <h1 id="main-title">
                Rework is a place for listing and finding remote work.
            </h1>
        </div>
    </div>
</div>

<div class="container-fluid container-md" style="padding-top: 5vw;padding-bottom: 5vw;">

    <div class="row">
        <div class="col-12">
            <form [formGroup]="searchForm" class="form-inline md-form md-outline">
                <!--<mdb-icon fas icon="search" aria-hidden="true"></mdb-icon>-->
                <input id="search" formControlName="search" class="form-control form-control-sm w-100" type="text" placeholder="Find a new remote job" aria-label="Search" (keyup)="$searchTerm.next($event.target.value)" mdbInput>
            </form>
        </div>
        <div class="col">
            <div class="glide">
                <div class="glide__track" data-glide-el="track">
                    <ul class="glide__slides">
                        <li class="glide__slide" *ngFor="let category of categories">
                            <div class="category-container">
                                <p class="category-name">
                                    {{ category.name }}
                                </p>
                            </div>
                        </li>
                    </ul>
                </div>

                <!--
                <div data-glide-el="controls">
                    <button data-glide-dir="<<">Start</button>
                    <button data-glide-dir=">>">End</button>
                </div>
                -->
            </div>
            <!--Filtro de categorÃ­as-->
            <div class="text-center my-4">
                <a *ngFor="let category of categories" (click)="filterJobsByCategory(category._id)">

                    <mdb-badge class="ml-1 mt-1" pill="true" default="true" style="padding: 10px;" *ngIf="categorySelected !== category._id">
                        {{ category.name }}
                    </mdb-badge>
                    <mdb-badge class="ml-1 mt-1" pill="true" warning="true" style="padding: 10px;" *ngIf="categorySelected === category._id">
                        {{ category.name }}
                    </mdb-badge>
                </a>
            </div>

        </div>
    </div>

    <div class="row mt-5">
        <div class="col">
            <p id="remote-works-title" class="font-weight-bold">
                Today's telecommuting jobs, good luck!
            </p>
        </div>
    </div>

    <div class="row mt-3" *ngFor="let job of jobs; let i = index;">
        <div class="col-12" (click)="clickJob( i, job )" style="cursor: pointer;">
            <div class="row job-container">
                <div class="col-3 col-md-2 d-flex justify-content-center align-items-center">
                    <img *ngIf="job.companyImage" [src]="job.companyImage | imageUrl" class="rounded-circle img-company" />
                    <div *ngIf="!job.companyImage" class="company-abbreviation d-flex justify-content-center align-items-center" style="width: 100%;height: 100%;">
                        <span class="company-abbreviation">
                            {{ job.company | companyAbbreviation }}
                        </span>
                    </div>
                </div>
                <div class="col-6 col-md-8">
                    <p id="job-company" style="margin-bottom: 0;">
                        {{ job.company }}
                    </p>
                    <p id="job-position" style="margin-bottom: 0;">
                        {{ job.position }}
                    </p>
                    <div class="mt-1 mt-md-2">
                        <span class="work-type">
                                {{ job.type.name }}
                        </span>
                        <span class="job-location ml-1" *ngFor="let location of job.location | locationsSplit">
                                {{ location  }}
                        </span>
                    </div>
                </div>
                <div class="col-3 col-md-2 d-flex align-items-center">

                    <span class="post-time">
                        {{ job.created | timeAgo }}
                    </span>

                </div>
            </div>
        </div>
        <div class="col-12" *ngIf="indexJobClicked === i">
            <div class="job-details-container">
                <!--Description-->
                <div class="job-description" [innerHTML]="job.description"></div>
                <div class="text-center">
                    <button mdbBtn type="button" class="btn-apply" outline="true" *ngIf="job.url" (click)="apply( job.url )" mdbWavesEffect>
                        Apply
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="text-center container-see-more">
        <img src="/assets/icons/see-more.png" class="see-more" (click)="loadMoreJobs()" *ngIf="moreJobs">
    </div>

</div>